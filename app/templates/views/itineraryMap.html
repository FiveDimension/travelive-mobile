<ion-modal-view>
    <ion-header-bar align-title="left" class="bar-positive" style="position:absolute; background: transparent; border-bottom: none;">
        <button class="button button-icon icon ion-ios-arrow-back ctext-shadow" ng-click="goBack()"></button>
        <!--<h1 class="title" ng-bind="topic"></h1>-->
        <button class="button button-clear ctext-shadow" ng-click="ok()">确定</button>
    </ion-header-bar>
    <ion-content style="top:0;" scroll="false" ng-init="flag = {isEdit: false}">
        <!--<baidu-map options="mapOptions" style="width: 100%; height: 600px; display: block;"></baidu-map>-->
        <div style="height: 100%;"
             amap-map
             ng-model="currentMap">
        </div>
        <div style="position: absolute; overflow-y: auto; width: 80px;height: 500px;background: rgba(0, 0, 0, 0.6);bottom: 128px;right: 7px;border-radius: 5px; padding: 5px" >
            <ul ng-model="currentMap.markers" on-hold="flag.isEdit = true" >
                <li ng-repeat="m in currentMap.markers">
                    <div style="position: relative;">
                        <img ng-src="{{m.image}}" width="70" height="70" on-tap="flag.isEdit = false">
                        <span ng-bind="m.name" style="position: absolute; bottom: 3px; left: 0px; color: #FFF;"></span>
                        <i ng-if="isEdit" class="icon ion-close-round" ng-click="delMarker($event, m)" style="position: absolute;top: 1px;left: 1px;font-size: 17px;color: #FFF;text-shadow: 1px 1px 1px #000"></i>
                    </div>
                </li>
                <!--<li><center><i class="icon ion-ios-plus-outline" style="font-size: 50px;color: #FFF;" ng-click="add()"></i></center></li>-->
            </ul>
        </div>
    </ion-content>
</ion-modal-view>